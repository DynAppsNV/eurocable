<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_delivery_document_inherit_stock" inherit_id="stock.report_delivery_document">
        <xpath expr="//div[@name='div_sched_date']" position="after">
            <div t-if="o.weight_move" class="col-auto" name="div_total_weight">
                <strong>Total Weight:</strong>
                <p t-field="o.weight_move"/>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('page')]/div[@name='signature']" position="after">
            <br/>
            <br/>
            <div t-if="o.sudo().sale_id.delivery_notes">
                <b>Delivery Notes</b>
                <p t-field="o.sudo().sale_id.delivery_notes"/>
            </div>
            <div t-if="o.move_type">
                <b>Shipping policy</b>
                <p t-field="o.move_type"/>
            </div>
            <div t-if="o.name">
                <b>Delivery order-</b>
                <span t-field="o.name"/>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('page')]/h2" position="replace">
            <h2>
                <b>Delivery order-</b>
                <span t-field="o.name"/>
            </h2>

        </xpath>
        
        <xpath expr="//p[@t-field='o.date_done']" position="attributes">
            <attribute name="t-options">{"widget": "date"}</attribute>
        </xpath>

        <xpath expr="//th[@name='th_sm_product']" position="replace">
            <th name="th_description">
                <strong>Description</strong>
            </th>
        </xpath>
        <xpath expr="//table[@name='stock_move_table']/tbody/tr/td[1]" position="replace">
            <td>
                <span t-field="move.description_picking"/>
            </td>
        </xpath>

        <xpath expr="//th[@name='th_sml_product']" position="replace">
            <th name="th_description">
                <strong>Description</strong>
            </th>
        </xpath>

    </template>
    <template id="stock_report_delivery_has_serial_move_line_inherit_stock"
              inherit_id="stock.stock_report_delivery_has_serial_move_line">
        <xpath expr="//td[1]" position="replace">
            <td>
                <t t-if="not description and description != ''">
                    <t t-set="description" t-value="move_line.move_id.description_picking"/>
                </t>
                <p t-if="description !='' and description != move_line.product_id.name">
                    <span t-esc="description"/>
                </p>
            </td>
        </xpath>
    </template>
</odoo>
